<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <link rel="stylesheet" href="reset.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Arimo:ital,wght@0,400..700;1,400..700&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Raleway:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <style>
    body {
      background-color: #0D0D0D;
      font-family: "Arimo", sans-serif;
    }

    html, body {
  margin: 0;
  padding: 0;
  overscroll-behavior: none;
}

    button.btn-base {
      text-transform: uppercase;
    font-size: 14px;
    font-weight: 600;
    color: white;
    background: transparent;
    border: 0;
        display: flex;
    align-items: center;
    column-gap: 16px;
    }

    button.btn-base.web {
       display: flex;

      @media only screen and (max-width:1080px) {
        display: none;
      }
    }

    button.btn-base.mobile {
     display: none;

      @media only screen and (max-width:1080px) {
        display: flex;
      }
    }

    button.btn-base.disabled {
      opacity: .3;
    }

    button.btn-base:hover {
      color:#E3FF63;
      cursor: pointer;
    }

    .reader-wrapper {
      width: 100%;
      height: 100vh;
      display: flex;
      flex-direction: column;
      row-gap: 0;
      justify-content: space-between;
      align-items: flex-start;
      overflow: hidden;
    }

    .reader-wrapper .reader-top {
          width: 100%;
      height: 88px;
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
      padding: 0 64px;
      gap: 16px;
       @media only screen and (max-width:1080px) {
         padding: 0 16px;
      }
    }

    .top-central {
    display: flex;
    flex-direction: row;
    color: white;
    justify-content: space-between;
    align-items: center;
        column-gap: 40px;

        
}

.top-central h2 {
    padding: 0;
    margin: 0;
    font-size: 18px;
     @media only screen and (max-width:1080px) {
         display: none;
        }
}

.bottom-central-mobile h2 {
    padding: 0;
    margin: 0;
    font-size: 15px;
}

.bottom-central-mobile {
   display: none;
    flex-direction: column;
    color: white;
    justify-content: space-between;
    align-items: center;
        row-gap: 0px;
        @media only screen and (max-width:1080px) {
         display: flex;
    }
}

.bottom-central-mobile button.droprown {
    border: 1.5px solid white;
    background: transparent;
    color: white;
    padding: 4px 24px;
    border-radius: 40px;
    font-size: 12px;
    display: flex;
    column-gap: 16px;
    
}

.top-central button.droprown {
    border: 1.5px solid white;
    background: transparent;
    color: white;
    padding: 8px 24px;
    border-radius: 40px;
    font-size: 13px;
    display: flex;
    column-gap: 16px;
    @media only screen and (max-width:1080px) {
         display: none;
        }
}
    .reader-wrapper .reader-content {
      width: 100%;
    height: calc(100vh - 160px);
    flex: 1;
    flex-grow: 1;
    padding: 0 32px;
     @media only screen and (max-width:1080px) {
         padding: 0;
      }
    }

    
    .reader-view {
      width: 100%;
      height: 100%;
      background-color: #1E1E1E;
      border-radius: 40px;
          overflow-y: scroll;
      @media only screen and (max-width:1080px) {
          border-radius: 0px;
      }
    }

    img.comic-page {
    max-width: 1080px;
    width: 100%;
    margin: 0 auto;
}
    .reader-wrapper .reader-bottom {
          width: 100%;
    height: 72px;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    padding: 0 64px;
     @media only screen and (max-width:1080px) {
         padding: 0 16px;
      }
    }

    .reader-bottom {
      @media only screen and (max-width:1080px) {
         height: 82px !important;
         flex-direction: column !important;
         justify-content: center !important;
         row-gap: 8px;
         padding: 0 !important;
      }
    }

    .top-left-wrapper {
      display: flex;
      flex-direction: row;
      column-gap: 16px;
      align-items: center;
    }

    .top-avatar {
      width: 46px;
    height: 46px;
    border-radius: 46px;
    background: #B494FF;
    }

    .bottom-progress-wrapper {
    display: flex;
    flex-direction: column;
    row-gap: 4px;
    width: 200px;
    @media only screen and (max-width:1080px) {
         width: 100%;
      }
}

.bottom-central {
  display: flex;
    align-items: center;
    column-gap: 175px;
     @media only screen and (max-width:1080px) {
        column-gap: 16px;
        width: 100%;
        justify-content: space-between;
                padding: 0 16px;
    }
}
.bottom-right {
  display: flex;
    align-items: center;
    column-gap: 48px;
    @media only screen and (max-width:1080px) {
        display: none;
      }
}
.bottom-progress-heading {
      display: flex
;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    color: white;
    @media only screen and (max-width:1080px) {
         display: none;
      }
}

.bottom-progress-bar {
    width: 100%;
    position: relative;
    background: #505050;
    height: 8px;
    border-radius: 10px;
    @media only screen and (max-width:1080px) {
         border-radius: 0px;
      }
}

#prevButton span, #nextButton span{
   @media only screen and (max-width:1080px) {
         display: none;
      }
}

#prevButton img, #nextButton img{
   @media only screen and (max-width:1080px) {
         width: 28px;
      }
}

.bottom-progress-bar-color {
  width: 10%;
  height: 8px;
  background: #B494FF;
  border-radius: 8px;
  transition: width 0.3s ease-in-out;
}

/*.bottom-progress-bar:before {
content: "";
    width: 30%;
    height: 8px;
    background: #B494FF;
    position: absolute;
    top: 0;
    left: 0;
    border-radius: 8px;
}*/

/* ===== Scrollbar CSS ===== */
  /* Firefox */
  * {
    scrollbar-width: auto;
    scrollbar-color: #8f54a0 #111015;
  }

  /* Chrome, Edge, and Safari */
  *::-webkit-scrollbar {
    width: 16px;
  }

  *::-webkit-scrollbar-track {
    background: #111015;
  }

  *::-webkit-scrollbar-thumb {
    background-color: #8f54a0;
    border-radius: 10px;
    border: 3px solid #111015;
  }

  

 

  </style>
</head>
<body>
  <div class="reader-wrapper" id="reader-wrapper">
    <div class="reader-top">
      <button class="btn-base web"> <img src="./arrow_left_alt.svg" alt="">atras</button>
       <button class="btn-base mobile"> <img src="./arrow_left_alt.svg" alt=""></button>

      <div class="top-central">
        <img src="./logo_1.svg" />
        <h2>Nadie llega solo</h2>
        <button class="droprown">CAPITULO 1 - PARTE 2 <img src="./chevron_backward.svg" style="transform: rotate(-90deg);"  alt=""></button>
      </div>
      <div class="top-left-wrapper">
        <button class="btn-base">ES <img src="./chevron_backward.svg" style="transform: rotate(-90deg);"  alt=""></button>
        <div class="top-avatar"></div>
      </div>
    </div>
    <div class="reader-content">
      <div class="reader-view" id="reader-view">
        <img class="comic-page" id="viewer" src="page_1.png" />
      </div>
    </div>
    <div class="reader-bottom">
      <div class="bottom-progress-wrapper">
        <div class="bottom-progress-heading">
          <p>Progreso</p>
          <p id="progressAmount">0%</p>
        </div>
        <div class="bottom-progress-bar">
          <div class="bottom-progress-bar-color" id="bar-progress"></div>
        </div>
      </div>
      <div class="bottom-central">
        <button class="btn-base"  id="prevButton" ><img src="./chevron_backward.svg" alt=""><span>ANTERIOR</span></button>
         <div class="bottom-central-mobile">
           <button class="droprown">CAPITULO 1 - PARTE 2 <img src="./chevron_backward.svg" style="transform: rotate(-90deg);"  alt=""></button>
           <h2>Nadie llega solo</h2>
        </div>
        <button class="btn-base" id="nextButton" ><span>SIGUIENTE</span><img src="./chevron_backward.svg" style="transform: scaleX(-1);"  alt=""></button>
      </div>
      <div class="bottom-right">
        <button class="btn-base"><img src="./share.svg" alt=""></button>
        <button class="btn-base" id="fullscreenButton"><img id="screenImage" src="./fullscreen.svg" alt=""></button>
      </div>
    </div>
  </div>

  <script>
   

    document.addEventListener('DOMContentLoaded', () => {
   const images = ["page_1.png", "page_2.png", "page_3.png", "page_4.png"];
    let currentIndex = 0;

    const viewer = document.getElementById("viewer");
    const readerWrapper = document.getElementById("reader-wrapper");
    const readerView = document.getElementById("reader-view");
    const prevButton = document.getElementById("prevButton");
    const nextButton = document.getElementById("nextButton");
    const progressAmount = document.getElementById("progressAmount");
    const barProgress = document.getElementById("bar-progress");
    const fullscreenButton = document.getElementById("fullscreenButton");
    const screenImage = document.getElementById("screenImage");

    fullscreenButton.addEventListener("click", () => {
      if (!document.fullscreenElement) {
        // Entra en fullscreen
        readerWrapper.requestFullscreen().catch(err => {
          console.error(`Error al activar fullscreen: ${err.message}`);
        });
        screenImage.src = './normalscreen.svg';
      } else {
        // Sale de fullscreen si ya está activo
        document.exitFullscreen();
        screenImage.src = './fullscreen.svg';
      }
    });

    function updateImage() {
      viewer.src = images[currentIndex];
      // Reinicia el scroll del contenedor
      readerView.scrollTop = 0;
      readerView.scrollLeft = 0;

      const percentage = Math.round((currentIndex / (images.length - 1)) * 100);
      progressAmount.textContent = `${percentage}%`;
      barProgress.style.width = `${percentage}%`;
    }

    nextButton.addEventListener("click", () => {
      if (currentIndex < images.length - 1) {
        currentIndex++;
        updateImage();
      }
    });

    prevButton.addEventListener("click", () => {
      if (currentIndex > 0) {
        currentIndex--;
        updateImage();
      }
    });

    //init
    updateImage();
});
  </script>
</body>

</html>
